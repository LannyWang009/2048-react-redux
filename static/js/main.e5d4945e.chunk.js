(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{19:function(e,r,o){e.exports=o(29)},24:function(e,r,o){},29:function(e,r,o){"use strict";o.r(r);var t=o(0),a=o.n(t),n=o(17),s=o.n(n),c=(o(24),o(11)),l=o(8),u={board:b(b([[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]])),score:0,gameOverMessage:null};function i(e,r){return JSON.stringify(e)!==JSON.stringify(r)}function g(e){return JSON.parse(JSON.stringify(e))}function d(e){for(var r=[],o=0;o<e.length;o++)for(var t=0;t<e[o].length;t++)0===e[o][t]&&r.push([o,t]);return r}function b(e){var r,o=g(e),t=d(e),a=(r=t)[Math.floor(Math.random()*r.length)];return o[a[0]][a[1]]=2,o}function m(e){var r=e.filter(function(e){return e}),o=e.length-r.length,t=Array(o).fill(0);return r=r.concat(t)}function p(e){for(var r=[],o=0;o<e.length;o++){var t=m(e[o]);r.push(t)}return r}function v(e){var r=e.filter(function(e){return e}),o=e.length-r.length;return r=Array(o).fill(0).concat(r)}function h(e){for(var r=[],o=0;o<e.length;o++){var t=v(e[o]);r.push(t)}return r}function f(e,r){for(var o=0;o<e.length;o++)for(var t=e[o].length-1;t>0;t--)e[o][t]>0&&e[o][t]===e[o][t-1]&&(e[o][t]=2*e[o][t],r+=e[o][t],e[o][t-1]=0,e[o]=v(e[o]));return{board:e,score:r}}function O(e,r){for(var o=0;o<e.length;o++)for(var t=0;t<e[o].length;t++)e[o][t]>0&&e[o][t]===e[o][t+1]&&(e[o][t]=2*e[o][t],r+=e[o][t],e[o][t+1]=0,e[o]=m(e[o]));return{board:e,score:r}}function y(e){for(var r=[],o=0;o<e.length;o++){for(var t=[],a=e[o].length-1;a>=0;a--)t.push(e[a][o]);r.push(t)}return r}function j(e){for(var r=[],o=e.length-1;o>=0;o--){for(var t=[],a=e[o].length-1;a>=0;a--)t.unshift(e[a][o]);r.push(t)}return r}var E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,r=arguments.length>1?arguments[1]:void 0,o=g(e),t=o.board,a=o.score,n=o.gameOverMessage;switch(r.type){case"ADD_NEW":var s=b(t);return Object(l.a)({},e,{board:s});case"TEST_NUMBERS":return Object(l.a)({},e,{board:[[2,4,8,16],[32,64,128,256],[512,1024,2048,0],[2,4,8,16]]});case"BUG":return Object(l.a)({},e,{board:[[32,8,16,2],[64,16,4,16],[2,8,32,2],[2,2,4,32]]});case"UP":var c=function(e,r,o){var t=g(e);return t=f(t=h(t=y(t)),r).board,r=f(t,r).score,i(e,t=j(t))?0===d(t=b(t)).length?{boardcopy:t,score:r,gameOverMessage:o="You lost the game"}:{boardcopy:t,score:r,gameOverMessage:o="null"}:{boardcopy:t,score:r,gameOverMessage:o}}(t,a,n);return Object(l.a)({},e,{board:c.boardcopy,score:c.score});case"DOWN":var m=function(e,r,o){var t=g(e),a=p(y(t)),n=O(a,r).board;r=O(a,r).score;var s=j(n);if(i(e,s)){var c=b(s);return 0===d(c).length?(o="You lost the game",console.log("gameOverMessage"),{boardcopy:c,score:r,gameOverMessage:o}):(o=null,console.log("gameOverMessage is null"),{boardcopy:c,score:r,gameOverMessage:o})}return{boardcopy:t,score:r,gameOverMessage:o}}(t,a,n);return Object(l.a)({},e,{board:m.boardcopy,score:m.score});case"RIGHT":var v=function(e,r,o){var t=g(e);return t=f(t=h(t),r).board,r=f(t,r).score,console.log("board,",e),console.log("boardcopy,",t),console.log("isMoved",i(e,t)),i(e,t)?0===d(t=b(t)).length?{boardcopy:t,score:r,gameOverMessage:o="You lost the game."}:{boardcopy:t,score:r,gameOverMessage:o=null}:{boardcopy:t,score:r,gameOverMessage:o}}(t,a,n);return console.log("result right",v),Object(l.a)({},e,{board:v.boardcopy,score:v.score});case"LEFT":var E=function(e,r,o){var t=g(e);return t=p(e),console.log("shiftleft result",t),t=O(t,r).board,console.log("merge2left,",t),r=O(t,r).score,console.log("merge2left",r),console.log("board,",e),console.log("boardcopy,",t),console.log("isMoved",i(e,t)),i(e,t)?0===d(t=b(t)).length?{boardcopy:t,score:r,gameOverMessage:o="You lost the game"}:{boardcopy:t,score:r,gameOverMessage:o=null}:{boardcopy:t,score:r,gameOverMessage:o}}(t,a,n);return console.log("result left,",E),Object(l.a)({},e,{board:E.boardcopy,score:E.score});case"RESTART":return u;default:return e}},M=Object(c.b)({board:E}),N=Object(c.c)(M,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),w=o(3),k=o(4),R=o(6),T=o(5),S=o(7),_=o(1),A=o(2),D=function(e){function r(e){var o;return Object(w.a)(this,r),(o=Object(R.a)(this,Object(T.a)(r).call(this,e))).state={board:e.board},o}return Object(S.a)(r,e),Object(k.a)(r,[{key:"render",value:function(){var e=this;return a.a.createElement("div",{className:"gameBoard"},this.props.board.map(function(r,o){return a.a.createElement("div",{key:o,className:"row"},r.map(function(r,t){return a.a.createElement("span",{key:t,className:"cell block-value-"+e.props.board[o][t]},e.props.board[o][t])}))}))}}]),r}(t.Component),U=Object(A.b)(function(e){return{board:e.board.board}})(D),G=function(e){function r(e){var o;return Object(w.a)(this,r),(o=Object(R.a)(this,Object(T.a)(r).call(this,e))).state={board:e.board,score:e.score,gameOverMessage:e.gameOverMessage},o.handleRestart=o.handleRestart.bind(Object(_.a)(Object(_.a)(o))),o}return Object(S.a)(r,e),Object(k.a)(r,[{key:"handleRestart",value:function(){console.log("you pressed new game"),this.props.setNewGame()}},{key:"render",value:function(){return this.state.gameOverMessage?a.a.createElement("div",{className:"gameOverMessage notification is-danger"},a.a.createElement("button",{className:"delete",onClick:this.handleRestart}),this.props.gameOverMessage):null}}]),r}(t.Component),B=Object(A.b)(function(e){return{board:e.board.board,score:e.board.score,gameOverMessage:e.board.gameOverMessage}},function(e){return{setNewGame:function(){return e({type:"RESTART"})}}})(G),C=function(e){function r(e){var o;return Object(w.a)(this,r),(o=Object(R.a)(this,Object(T.a)(r).call(this,e))).state={board:e.board,score:e.score,gameOverMessage:e.gameOverMessage},o.handleRestart=o.handleRestart.bind(Object(_.a)(Object(_.a)(o))),o}return Object(S.a)(r,e),Object(k.a)(r,[{key:"handleRestart",value:function(){console.log("you pressed new game"),this.props.setNewGame()}},{key:"render",value:function(){return a.a.createElement("div",{className:"gameContainer container"},a.a.createElement("div",{className:"gameHeader"},a.a.createElement("button",{className:"button is-danger",onClick:this.handleRestart},"New Game")," ",a.a.createElement("span",{className:"button is-primary is-outlined"},"Score: ",this.props.score)),a.a.createElement(B,null),a.a.createElement(U,null))}}]),r}(t.Component),L=Object(A.b)(function(e){return{board:e.board.board,score:e.board.score,gameOverMessage:e.board.gameOverMessage}},function(e){return{setNewGame:function(){return e({type:"RESTART"})}}})(C),I=function(e){function r(e){var o;return Object(w.a)(this,r),(o=Object(R.a)(this,Object(T.a)(r).call(this,e))).state={board:e.board},o.handler=o.handler.bind(Object(_.a)(Object(_.a)(o))),o}return Object(S.a)(r,e),Object(k.a)(r,[{key:"handler",value:function(e){"Alt"===e.key&&(console.log("==========================="),this.props.testBoard()),"a"===e.key&&(console.log("This is my bug situation"),this.props.viewbug()),"ArrowUp"===e.key&&(console.log("==========================="),console.log("you just pressed",e.key),this.props.moveUp()),"ArrowRight"===e.key&&(console.log("==========================="),console.log("you just pressed",e.key),this.props.moveRight()),"ArrowDown"===e.key&&(console.log("==========================="),console.log("you just pressed",e.key),this.props.moveDown()),"ArrowLeft"===e.key&&(console.log("==========================="),console.log("you just pressed",e.key),this.props.moveLeft()),"Enter"===e.key&&(console.log("==========================="),console.log("you just pressed",e.key),this.props.addRandomSquare())}},{key:"render",value:function(){return a.a.createElement("div",{className:"App",tabIndex:"0",onKeyDown:this.handler},a.a.createElement("header",{className:"App-header"},a.a.createElement("h1",null,"2048 Game")),a.a.createElement(L,null))}}]),r}(t.Component),J=Object(A.b)(function(e){return{board:e.board.board,score:e.board.score}},function(e){return{addRandomSquare:function(){return e({type:"ADD_NEW"})},testBoard:function(){return e({type:"TEST_NUMBERS"})},moveRight:function(){return e({type:"RIGHT"})},moveLeft:function(){return e({type:"LEFT"})},moveUp:function(){return e({type:"UP"})},moveDown:function(){return e({type:"DOWN"})},viewbug:function(){return e({type:"BUG"})}}})(I);s.a.render(a.a.createElement(A.a,{store:N},a.a.createElement(J,null)),document.getElementById("root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.e5d4945e.chunk.js.map