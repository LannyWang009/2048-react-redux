(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{19:function(e,r,o){e.exports=o(29)},24:function(e,r,o){},29:function(e,r,o){"use strict";o.r(r);var t=o(0),a=o.n(t),n=o(17),s=o.n(n),c=(o(24),o(11)),l=o(8),i={board:b(b([[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]])),score:0,gameOverMessage:null,direction:null};function u(e,r){return JSON.stringify(e)!==JSON.stringify(r)}function d(e){return JSON.parse(JSON.stringify(e))}function g(e){for(var r=[],o=0;o<e.length;o++)for(var t=0;t<e[o].length;t++)0===e[o][t]&&r.push([o,t]);return r}function b(e){var r,o=d(e),t=g(e),a=(r=t)[Math.floor(Math.random()*r.length)];return o[a[0]][a[1]]=2,o}function f(e){var r=e.filter(function(e){return e}),o=e.length-r.length,t=Array(o).fill(0);return r=r.concat(t)}function m(e){for(var r=[],o=0;o<e.length;o++){var t=f(e[o]);r.push(t)}return r}function h(e){var r=e.filter(function(e){return e}),o=e.length-r.length;return r=Array(o).fill(0).concat(r)}function p(e){for(var r=[],o=0;o<e.length;o++){var t=h(e[o]);r.push(t)}return r}function v(e,r){for(var o=0;o<e.length;o++)for(var t=e[o].length-1;t>0;t--)e[o][t]>0&&e[o][t]===e[o][t-1]&&(e[o][t]=2*e[o][t],e[o][t-1]=0,e[o]=h(e[o]));return{board:e,score:r}}function O(e,r){for(var o=0;o<e.length;o++)for(var t=0;t<e[o].length;t++)e[o][t]>0&&e[o][t]===e[o][t+1]&&(e[o][t]=2*e[o][t],e[o][t+1]=0,e[o]=f(e[o]));return{board:e,score:r}}function y(e){for(var r=[],o=0;o<e.length;o++){for(var t=[],a=e[o].length-1;a>=0;a--)t.push(e[a][o]);r.push(t)}return r}function j(e){for(var r=[],o=e.length-1;o>=0;o--){for(var t=[],a=e[o].length-1;a>=0;a--)t.unshift(e[a][o]);r.push(t)}return r}function E(e){for(var r=0,o=e.boardcopy,t=0;t<o.length;t++)for(var a=0;a<o[t].length;a++)r+=o[t][a],console.log("sum row col",r,t,a,o[t][a]);return console.log("sum",r),r}var w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,r=arguments.length>1?arguments[1]:void 0,o=d(e),t=o.board,a=o.score,n=o.gameOverMessage;switch(r.type){case"ADD_NEW":var s=b(t),c=E(s);return Object(l.a)({},e,{board:s,score:c});case"TEST_NUMBERS":var f=[[2,4,8,16],[32,64,128,256],[512,1024,2048,0],[2,4,8,16]];return Object(l.a)({},e,{board:f,score:E(f)});case"BUG":var h=[[32,8,16,2],[64,16,4,16],[2,8,32,2],[2,2,4,32]];return Object(l.a)({},e,{board:h,score:E(h)});case"UP":var w=function(e,r,o){var t=d(e);return t=v(t=p(t=y(t)),r).board,r=v(t,r).score,u(e,t=j(t))?0===g(t=b(t)).length?{boardcopy:t,score:r,gameOverMessage:o="You lost the game"}:{boardcopy:t,score:r,gameOverMessage:o="null"}:{boardcopy:t,score:r,gameOverMessage:o}}(t,a,n);return Object(l.a)({},e,{board:w.boardcopy,score:E(w),direction:"fas fa-arrow-circle-up is-light"});case"DOWN":var M=function(e,r,o){var t=d(e),a=m(y(t)),n=O(a,r).board;r=O(a,r).score;var s=j(n);if(u(e,s)){var c=b(s);return 0===g(c).length?(o="You lost the game",console.log("gameOverMessage"),{boardcopy:c,score:r,gameOverMessage:o}):(o=null,console.log("gameOverMessage is null"),{boardcopy:c,score:r,gameOverMessage:o})}return{boardcopy:t,score:r,gameOverMessage:o}}(t,a,n);return Object(l.a)({},e,{board:M.boardcopy,score:E(M),direction:"fas fa-arrow-circle-down is-light"});case"RIGHT":var N=function(e,r,o){var t=d(e);return t=v(t=p(t),r).board,r=v(t,r).score,console.log("board,",e),console.log("boardcopy,",t),console.log("isMoved",u(e,t)),u(e,t)?0===g(t=b(t)).length?{boardcopy:t,score:r,gameOverMessage:o="You lost the game."}:{boardcopy:t,score:r,gameOverMessage:o=null}:{boardcopy:t,score:r,gameOverMessage:o}}(t,a,n);return Object(l.a)({},e,{board:N.boardcopy,score:E(N),direction:"fas fa-arrow-circle-right is-light"});case"LEFT":var k=function(e,r,o){var t=d(e);return t=m(e),console.log("shiftleft result",t),t=O(t,r).board,console.log("merge2left,",t),r=O(t,r).score,console.log("merge2left",r),console.log("board,",e),console.log("boardcopy,",t),console.log("isMoved",u(e,t)),u(e,t)?0===g(t=b(t)).length?{boardcopy:t,score:r,gameOverMessage:o="You lost the game"}:{boardcopy:t,score:r,gameOverMessage:o=null}:{boardcopy:t,score:r,gameOverMessage:o}}(t,a,n);return Object(l.a)({},e,{board:k.boardcopy,score:E(k),direction:"fas fa-arrow-circle-left is-light"});case"RESTART":return i;default:return e}},M=Object(c.b)({board:w}),N=Object(c.c)(M,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),k=o(3),R=o(4),T=o(6),S=o(5),_=o(7),A=o(1),D=o(2),U=function(e){function r(e){var o;return Object(k.a)(this,r),(o=Object(T.a)(this,Object(S.a)(r).call(this,e))).state={board:e.board},o}return Object(_.a)(r,e),Object(R.a)(r,[{key:"render",value:function(){var e=this;return a.a.createElement("div",{className:"gameBoard"},this.props.board.map(function(r,o){return a.a.createElement("div",{key:o,className:"row"},r.map(function(r,t){return a.a.createElement("span",{key:t,className:"cell block-value-"+e.props.board[o][t]},e.props.board[o][t])}))}))}}]),r}(t.Component),G=Object(D.b)(function(e){return{board:e.board.board}})(U),B=function(e){function r(e){var o;return Object(k.a)(this,r),(o=Object(T.a)(this,Object(S.a)(r).call(this,e))).state={board:e.board,score:e.score,gameOverMessage:e.gameOverMessage},o.handleRestart=o.handleRestart.bind(Object(A.a)(Object(A.a)(o))),o}return Object(_.a)(r,e),Object(R.a)(r,[{key:"handleRestart",value:function(){console.log("you pressed new game"),this.props.setNewGame()}},{key:"render",value:function(){return this.state.gameOverMessage?a.a.createElement("div",{className:"gameOverMessage notification is-danger"},a.a.createElement("button",{className:"delete",onClick:this.handleRestart}),this.props.gameOverMessage):null}}]),r}(t.Component),C=Object(D.b)(function(e){return{board:e.board.board,score:e.board.score,gameOverMessage:e.board.gameOverMessage}},function(e){return{setNewGame:function(){return e({type:"RESTART"})}}})(B),L=function(e){function r(e){var o;return Object(k.a)(this,r),(o=Object(T.a)(this,Object(S.a)(r).call(this,e))).state={board:e.board,score:e.score,direction:e.direction,gameOverMessage:e.gameOverMessage},o.handleRestart=o.handleRestart.bind(Object(A.a)(Object(A.a)(o))),o}return Object(_.a)(r,e),Object(R.a)(r,[{key:"handleRestart",value:function(){console.log("you pressed new game"),this.props.setNewGame()}},{key:"render",value:function(){return a.a.createElement("div",{className:"gameContainer container"},a.a.createElement("div",{className:"gameHeader"},a.a.createElement("button",{className:"button is-danger",onClick:this.handleRestart},"New Game"),a.a.createElement("a",null,a.a.createElement("span",{class:"icon is-primary is-large is-outlined"},a.a.createElement("i",{class:this.props.direction}))),a.a.createElement("button",{className:"button is-light is-outlined",disabled:!0},"Score: ",this.props.score)),a.a.createElement(C,null),a.a.createElement(G,null))}}]),r}(t.Component),I=Object(D.b)(function(e){return{board:e.board.board,score:e.board.score,gameOverMessage:e.board.gameOverMessage,direction:e.board.direction}},function(e){return{setNewGame:function(){return e({type:"RESTART"})}}})(L),J=function(e){function r(e){var o;return Object(k.a)(this,r),(o=Object(T.a)(this,Object(S.a)(r).call(this,e))).state={board:e.board},o.handler=o.handler.bind(Object(A.a)(Object(A.a)(o))),o}return Object(_.a)(r,e),Object(R.a)(r,[{key:"handler",value:function(e){"Alt"===e.key&&(console.log("==========================="),this.props.testBoard()),"a"===e.key&&(console.log("This is my bug situation"),this.props.viewbug()),"ArrowUp"===e.key&&(console.log("==========================="),console.log("you just pressed",e.key),this.props.moveUp()),"ArrowRight"===e.key&&(console.log("==========================="),console.log("you just pressed",e.key),this.props.moveRight()),"ArrowDown"===e.key&&(console.log("==========================="),console.log("you just pressed",e.key),this.props.moveDown()),"ArrowLeft"===e.key&&(console.log("==========================="),console.log("you just pressed",e.key),this.props.moveLeft()),"Enter"===e.key&&(console.log("==========================="),console.log("you just pressed",e.key),this.props.addRandomSquare())}},{key:"render",value:function(){return a.a.createElement("div",{className:"App",tabIndex:"0",onKeyDown:this.handler},a.a.createElement("header",{className:"App-header"},a.a.createElement("h1",null,"2048 Game")),a.a.createElement(I,null))}}]),r}(t.Component),W=Object(D.b)(function(e){return{board:e.board.board,score:e.board.score}},function(e){return{addRandomSquare:function(){return e({type:"ADD_NEW"})},testBoard:function(){return e({type:"TEST_NUMBERS"})},moveRight:function(){return e({type:"RIGHT"})},moveLeft:function(){return e({type:"LEFT"})},moveUp:function(){return e({type:"UP"})},moveDown:function(){return e({type:"DOWN"})},viewbug:function(){return e({type:"BUG"})}}})(J);s.a.render(a.a.createElement(D.a,{store:N},a.a.createElement(W,null)),document.getElementById("root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.db42c1c1.chunk.js.map