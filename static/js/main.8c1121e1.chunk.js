(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{19:function(e,r,t){e.exports=t(29)},24:function(e,r,t){},29:function(e,r,t){"use strict";t.r(r);var o=t(0),a=t.n(o),n=t(17),s=t.n(n),c=(t(24),t(11)),l=t(9),u={board:g(g([[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]])),score:0,gameOverMessage:null};function i(e,r){return JSON.stringify(e)!==JSON.stringify(r)}function d(e){return JSON.parse(JSON.stringify(e))}function b(e){for(var r=[],t=0;t<e.length;t++)for(var o=0;o<e[t].length;o++)0===e[t][o]&&r.push([t,o]);return r}function g(e){var r,t=d(e),o=b(e),a=(r=o)[Math.floor(Math.random()*r.length)];return t[a[0]][a[1]]=2,t}function h(e){var r=e.filter(function(e){return e}),t=e.length-r.length,o=Array(t).fill(0);return r=r.concat(o)}function m(e){for(var r=[],t=0;t<e.length;t++){var o=h(e[t]);r.push(o)}return r}function v(e){var r=e.filter(function(e){return e}),t=e.length-r.length;return r=Array(t).fill(0).concat(r)}function f(e){for(var r=[],t=0;t<e.length;t++){var o=v(e[t]);r.push(o)}return r}function p(e,r){for(var t=0;t<e.length;t++)for(var o=e[t].length-1;o>0;o--)e[t][o]>0&&e[t][o]===e[t][o-1]&&(e[t][o]=2*e[t][o],r+=e[t][o],e[t][o-1]=0,e[t]=v(e[t]));return{board:e,score:r}}function O(e,r){for(var t=0;t<e.length;t++)for(var o=0;o<e[t].length;o++)e[t][o]>0&&e[t][o]===e[t][o+1]&&(e[t][o]=2*e[t][o],r+=e[t][o],e[t][o+1]=0,e[t]=h(e[t]));return{board:e,score:r}}function y(e){for(var r=[],t=0;t<e.length;t++){for(var o=[],a=e[t].length-1;a>=0;a--)o.push(e[a][t]);r.push(o)}return r}function j(e){for(var r=[],t=e.length-1;t>=0;t--){for(var o=[],a=e[t].length-1;a>=0;a--)o.unshift(e[a][t]);r.push(o)}return r}var E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,r=arguments.length>1?arguments[1]:void 0,t=d(e),o=t.board,a=t.score,n=t.gameOverMessage;switch(r.type){case"ADD_NEW":var s=g(o);return Object(l.a)({},e,{board:s});case"TEST_NUMBERS":return Object(l.a)({},e,{board:[[2,4,8,16],[32,64,128,256],[512,1024,2048,0],[2,4,8,16]]});case"UP":var c=function(e,r,t){var o=d(e);return o=p(o=f(o=y(o)),r).board,r=p(o,r).score,i(e,o=j(o))?0!==b(o=g(o)).length?{boardcopy:o,score:r,gameOverMessage:t="null"}:void(t="You lost the game"):{boardcopy:o,score:r,gameOverMessage:t}}(o,a,n);return Object(l.a)({},e,{board:c.boardcopy,score:c.score});case"DOWN":var h=function(e,r,t){var o=d(e);return o=O(o=m(o=y(o)),r).board,r=O(o,r).score,i(e,o=j(o))?0!==b(o=g(o)).length?{boardcopy:o,score:r,gameOverMessage:t=null}:void(t="You lost the game"):{boardcopy:o,score:r,gameOverMessage:t}}(o,a,n);return Object(l.a)({},e,{board:h.boardcopy,score:h.score});case"RIGHT":var v=function(e,r,t){var o=d(e);return o=p(o=f(o),r).board,r=p(o,r).score,console.log("board,",e),console.log("boardcopy,",o),console.log("isMoved",i(e,o)),i(e,o)?0!==b(o=g(o)).length?{boardcopy:o,score:r,gameOverMessage:t=null}:void(t="You lost the game."):{boardcopy:o,score:r,gameOverMessage:t}}(o,a,n);return console.log("result right",v),Object(l.a)({},e,{board:v.boardcopy,score:v.score});case"LEFT":var E=function(e,r,t){var o=d(e),a=m(e);console.log("shiftleft result",a);var n=O(a,r).board;return console.log("merge2left,",n),r=O(n,r).score,console.log("merge2left",r),console.log("board,",e),console.log("boardcopy,",n),console.log("isMoved",i(e,o)),i(e,o)?0!==b(o=g(o)).length?{boardcopy:o,score:r,gameOverMessage:t=null}:void(t="You lost the game"):{boardcopy:o,score:r,gameOverMessage:t}}(o,a,n);return console.log("result left,",E),Object(l.a)({},e,{board:E.boardcopy,score:E.score});case"RESTART":return u;default:return e}},N=Object(c.b)({board:E}),w=Object(c.c)(N,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),M=t(3),k=t(4),R=t(6),S=t(5),T=t(7),_=t(1),A=t(2),D=function(e){function r(e){var t;return Object(M.a)(this,r),(t=Object(R.a)(this,Object(S.a)(r).call(this,e))).state={board:e.board},t}return Object(T.a)(r,e),Object(k.a)(r,[{key:"render",value:function(){var e=this;return a.a.createElement("div",{className:"gameBoard"},this.props.board.map(function(r,t){return a.a.createElement("div",{key:t,className:"row"},r.map(function(r,o){return a.a.createElement("span",{key:o,className:"cell block-value-"+e.props.board[t][o]},e.props.board[t][o])}))}))}}]),r}(o.Component),U=Object(A.b)(function(e){return{board:e.board.board}})(D),G=function(e){function r(e){var t;return Object(M.a)(this,r),(t=Object(R.a)(this,Object(S.a)(r).call(this,e))).state={board:e.board,score:e.score,gameOverMessage:e.gameOverMessage},t.handleRestart=t.handleRestart.bind(Object(_.a)(Object(_.a)(t))),t}return Object(T.a)(r,e),Object(k.a)(r,[{key:"handleRestart",value:function(){console.log("you pressed new game"),this.props.setNewGame()}},{key:"render",value:function(){return this.state.gameOverMessage?a.a.createElement("div",{className:"gameOverMessage notification is-danger"},a.a.createElement("button",{className:"delete",onClick:this.handleRestart}),this.props.gameOverMessage):null}}]),r}(o.Component),C=Object(A.b)(function(e){return{board:e.board.board,score:e.board.score,gameOverMessage:e.board.gameOverMessage}},function(e){return{setNewGame:function(){return e({type:"RESTART"})}}})(G),L=function(e){function r(e){var t;return Object(M.a)(this,r),(t=Object(R.a)(this,Object(S.a)(r).call(this,e))).state={board:e.board,score:e.score,gameOverMessage:e.gameOverMessage},t.handleRestart=t.handleRestart.bind(Object(_.a)(Object(_.a)(t))),t}return Object(T.a)(r,e),Object(k.a)(r,[{key:"handleRestart",value:function(){console.log("you pressed new game"),this.props.setNewGame()}},{key:"render",value:function(){return a.a.createElement("div",{className:"gameContainer container"},a.a.createElement("div",{className:"gameHeader"},a.a.createElement("button",{className:"button is-danger",onClick:this.handleRestart},"New Game")," ",a.a.createElement("span",{className:"button is-primary is-outlined"},"Score: ",this.props.score)),a.a.createElement(C,null),a.a.createElement(U,null))}}]),r}(o.Component),B=Object(A.b)(function(e){return{board:e.board.board,score:e.board.score,gameOverMessage:e.board.gameOverMessage}},function(e){return{setNewGame:function(){return e({type:"RESTART"})}}})(L),I=function(e){function r(e){var t;return Object(M.a)(this,r),(t=Object(R.a)(this,Object(S.a)(r).call(this,e))).state={board:e.board},t.handler=t.handler.bind(Object(_.a)(Object(_.a)(t))),t}return Object(T.a)(r,e),Object(k.a)(r,[{key:"handler",value:function(e){"Alt"===e.key&&(console.log("==========================="),this.props.testBoard()),"ArrowUp"===e.key&&(console.log("==========================="),console.log("you just pressed",e.key),this.props.moveUp()),"ArrowRight"===e.key&&(console.log("==========================="),console.log("you just pressed",e.key),this.props.moveRight()),"ArrowDown"===e.key&&(console.log("==========================="),console.log("you just pressed",e.key),this.props.moveDown()),"ArrowLeft"===e.key&&(console.log("==========================="),console.log("you just pressed",e.key),this.props.moveLeft()),"Enter"===e.key&&(console.log("==========================="),console.log("you just pressed",e.key),this.props.addRandomSquare())}},{key:"render",value:function(){return a.a.createElement("div",{className:"App",tabIndex:"0",onKeyDown:this.handler},a.a.createElement("header",{className:"App-header"},a.a.createElement("h1",null,"2048 Game")),a.a.createElement(B,null))}}]),r}(o.Component),J=Object(A.b)(function(e){return{board:e.board.board,score:e.board.score}},function(e){return{addRandomSquare:function(){return e({type:"ADD_NEW"})},testBoard:function(){return e({type:"TEST_NUMBERS"})},moveRight:function(){return e({type:"RIGHT"})},moveLeft:function(){return e({type:"LEFT"})},moveUp:function(){return e({type:"UP"})},moveDown:function(){return e({type:"DOWN"})}}})(I);s.a.render(a.a.createElement(A.a,{store:w},a.a.createElement(J,null)),document.getElementById("root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.8c1121e1.chunk.js.map